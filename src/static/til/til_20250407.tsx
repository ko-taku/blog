import React from 'react';

const TIL20250407: React.FC = () => {
    return (
        <div>
            <h3>컨트랙트 호출</h3>
            <ul>
                <li>Solidity 스마트 컨트랙트 내부나 외부에서 특정 함수나 데이터를 요청하는 과정</li>
                <li>이더리움 블록체인에서 컨트랙트를 호출하면 상태를 변경할 수도 있고 데이터를 조회할 수도 있다</li>
            </ul>

            <h3>ABI</h3>
            <ul>
                <li>외부 애플리케이션 및 다른 스마트 컨트랙트와의 상호작용을 가능하게 하는 인터페이스</li>
                <li>외부 데이터를 수신하는 것은 블록체인 애플리케이션과 사용자의 목표를 달성하는 데 필수적인 요소</li>
            </ul>

            <h3>API와의 차이점</h3>
            <ul>
                <li>일반적인 API는 JSON 요청을 보내면 서버가 JSON 응답을 반환한다</li>
                <li>스마트 컨트랙트는 JSON이 아니라 바이트코드(0x…)로만 통신한다</li>
                <li>이 때문에 ABI 인코딩과 ABI 디코딩이 필요하다</li>
            </ul>

            <h3>ABI 인코딩</h3>
            <ul>
                <li>함수 호출 시 ABI 인코딩을 통해 데이터를 바이트코드로 변환하여 EVM에 전달</li>
                <li>함수 이름, 매개변수 타입, 인자값 등을 포함하여 EVM이 실행할 정확한 정보를 제공</li>
            </ul>

            <h3>ABI 디코딩</h3>
            <ul>
                <li>컨트랙트의 응답값(바이트코드)을 사람이 읽을 수 있는 형태로 전환</li>
            </ul>

            <h3>기존 웹 개발에서의 데이터 통신 (API vs 블록체인)</h3>
            <ul>
                <li>기존 웹 개발에서는 API를 통해 애플리케이션과 서버가 데이터를 주고받는다</li>
                <li>서버는 데이터를 중앙에서 관리하며 애플리케이션의 요청에 따라 필요한 정보를 반환하는 중앙 집중식 정보 소스 역할을 한다</li>
                <li>블록체인에서는 데이터가 중앙 집중화되어 있지 않으며 노드들이 서버 역할을 한다</li>
                <li>스마트 컨트랙트는 블록체인 네트워크에서 실행되며 외부 애플리케이션이 스마트 컨트랙트와 직접 통신할 방법이 필요</li>
                <li>이 때 ABI가 사용된다</li>
            </ul>
        </div>
    );
};

export default TIL20250407;
